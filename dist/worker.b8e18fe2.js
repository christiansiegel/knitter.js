parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"JZPE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.expose=c,exports.proxy=v,exports.transfer=h,exports.windowEndpoint=x,exports.wrap=l,exports.transferHandlers=exports.releaseProxy=exports.proxyMarker=exports.createEndpoint=void 0;const e=Symbol("Comlink.proxy");exports.proxyMarker=e;const t=Symbol("Comlink.endpoint");exports.createEndpoint=t;const n=Symbol("Comlink.releaseProxy");exports.releaseProxy=n;const r=Symbol("Comlink.thrown"),a=e=>"object"==typeof e&&null!==e||"function"==typeof e,s={canHandle:t=>a(t)&&t[e],serialize(e){const{port1:t,port2:n}=new MessageChannel;return c(e,t),[n,[n]]},deserialize:e=>(e.start(),l(e))},o={canHandle:e=>a(e)&&r in e,serialize({value:e}){let t;return[t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},i=new Map([["proxy",s],["throw",o]]);function c(e,t=self){t.addEventListener("message",function n(a){if(!a||!a.data)return;const{id:s,type:o,path:i}=Object.assign({path:[]},a.data),p=(a.data.argumentList||[]).map(w);let l;try{const t=i.slice(0,-1).reduce((e,t)=>e[t],e),n=i.reduce((e,t)=>e[t],e);switch(o){case 0:l=n;break;case 1:t[i.slice(-1)[0]]=w(a.data.value),l=!0;break;case 2:l=n.apply(t,p);break;case 3:l=v(new n(...p));break;case 4:{const{port1:t,port2:n}=new MessageChannel;c(e,n),l=h(t,[t])}break;case 5:l=void 0}}catch(d){l={value:d,[r]:0}}Promise.resolve(l).catch(e=>({value:e,[r]:0})).then(e=>{const[r,a]=b(e);t.postMessage(Object.assign(Object.assign({},r),{id:s}),a),5===o&&(t.removeEventListener("message",n),u(t))})}),t.start&&t.start()}function p(e){return"MessagePort"===e.constructor.name}function u(e){p(e)&&e.close()}function l(e,t){return f(e,[],t)}function d(e){if(e)throw new Error("Proxy has been released and is not useable")}function f(e,r=[],a=function(){}){let s=!1;const o=new Proxy(a,{get(t,a){if(d(s),a===n)return()=>E(e,{type:5,path:r.map(e=>e.toString())}).then(()=>{u(e),s=!0});if("then"===a){if(0===r.length)return{then:()=>o};const t=E(e,{type:0,path:r.map(e=>e.toString())}).then(w);return t.then.bind(t)}return f(e,[...r,a])},set(t,n,a){d(s);const[o,i]=b(a);return E(e,{type:1,path:[...r,n].map(e=>e.toString()),value:o},i).then(w)},apply(n,a,o){d(s);const i=r[r.length-1];if(i===t)return E(e,{type:4}).then(w);if("bind"===i)return f(e,r.slice(0,-1));const[c,p]=g(o);return E(e,{type:2,path:r.map(e=>e.toString()),argumentList:c},p).then(w)},construct(t,n){d(s);const[a,o]=g(n);return E(e,{type:3,path:r.map(e=>e.toString()),argumentList:a},o).then(w)}});return o}function m(e){return Array.prototype.concat.apply([],e)}function g(e){const t=e.map(b);return[t.map(e=>e[0]),m(t.map(e=>e[1]))]}exports.transferHandlers=i;const y=new WeakMap;function h(e,t){return y.set(e,t),e}function v(t){return Object.assign(t,{[e]:!0})}function x(e,t=self,n="*"){return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function b(e){for(const[t,n]of i)if(n.canHandle(e)){const[r,a]=n.serialize(e);return[{type:3,name:t,value:r},a]}return[{type:0,value:e},y.get(e)||[]]}function w(e){switch(e.type){case 3:return i.get(e.name).deserialize(e.value);case 0:return e.value}}function E(e,t,n){return new Promise(r=>{const a=M();e.addEventListener("message",function t(n){n.data&&n.data.id&&n.data.id===a&&(e.removeEventListener("message",t),r(n.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),n)})}function M(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}
},{}],"dDqi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Core=void 0;class t{constructor(){this.params=void 0,this.lineIndicesCache={},this.usedPinPairIds={}}init(t){const n=JSON.stringify([t.numberOfPins,t.dimensions,t.shape]);this.pinParamsId!==n&&(this.pins=i(t.numberOfPins,t.dimensions,t.shape),this.pinParamsId=n,this.lineIndicesCache={}),this.usedPinPairIds={},this.pattern=[0],this.params=t}getPins(){if(!this.pins)throw new Error("Core not initialized");return this.pins}getPattern(){if(!this.pattern)throw new Error("Core not initialized");return this.pattern}calcPattern(t){if(!this.pattern||!this.pins||!this.params)throw new Error("Core not initialized");const i=this.pins,o=this.params;for(let a=this.pattern.length;a<t;++a){const t=this.pins[this.pattern[this.pattern.length-1]],a=i=>!(h(t,i)in this.usedPinPairIds),d=n=>r(t.id,n.id,i.length)>=o.minimalDistance,c=i=>{const n=this.getLineIndicesCached(t,i,o.dimensions.width);return e(o.pixels,n)};let u=i.filter(a);if(0===(u=u.filter(d)).length)return this.pattern;const l=u.map(c),p=u[n(l)];void 0===p&&console.log(u);const f=this.getLineIndicesCached(t,p,o.dimensions.width);s(o.pixels,f,o.fadeRate),this.usedPinPairIds[h(t,p)]=!0,this.pattern.push(p.id)}return this.pattern.slice(0,t)}getLineIndicesCached(t,i,n){const e=h(t,i);if(e in this.lineIndicesCache)return this.lineIndicesCache[e];const s=o(t,i,n);return this.lineIndicesCache[e]=s,s}}function i(t,i,n){return("circle"===n?a:d)(t,i)}function n(t){let i=-1/0,n=-1;for(const[e,s]of t.entries())s>i&&(n=e,i=s);return n}function e(t,i){return 255-i.reduce((i,n)=>i+t[n],0)/i.length}function s(t,i,n){const e=Math.round(255*n/100);i.forEach(i=>t[i]=Math.min(255,t[i]+e))}function r(t,i,n){const e=Math.abs(t-i);return Math.min(n-e,e)}function h(t,i){return t.id<i.id?1024*t.id+i.id:1024*i.id+t.id}function o(t,i,n){const e=Math.abs(i.x-t.x),s=-Math.abs(i.y-t.y),r=t.x<i.x?1:-1,h=t.y<i.y?1:-1,o=[],a=Object.assign({},t);let d,c=e+s;for(;o.push(a.y*n+a.x),a.x!=i.x||a.y!=i.y;)(d=2*c)>s&&(c+=s,a.x+=r),d<e&&(c+=e,a.y+=h);return o}function a(t,i){const n=Math.min(i.width,i.height),e=(i.width-n)/2,s=(i.height-n)/2,r=n/2-1,h=2*Math.PI/t,o=[];for(let a=0;a<t;a++)o.push({id:a,x:e+Math.round(r+r*Math.sin(a*h)),y:s+Math.round(r+r*Math.cos(Math.PI+a*h))});return o}function d(t,i){const n=Math.min(i.width,i.height)-2,e=(i.width-n)/2,s=(i.height-n)/2,r=Math.floor(t/4),h=n/r,o=[];for(let a=0;a<r;a++)o.push({id:o.length,x:e+Math.round(h*a),y:s});for(let a=0;a<r;a++)o.push({id:o.length,x:e+n,y:s+Math.round(h*a)});for(let a=0;a<r;a++)o.push({id:o.length,x:e+n-Math.round(h*a),y:s+n});for(let a=0;a<r;a++)o.push({id:o.length,x:e,y:s+n-Math.round(h*a)});return o}exports.Core=t;
},{}],"ZXZ8":[function(require,module,exports) {
"use strict";var e=require("comlink"),r=require("./core");(0,e.expose)(r.Core);
},{"comlink":"JZPE","./core":"dDqi"}]},{},["ZXZ8"], null)